"use strict";var AppAnalysisKapitalWeb=function(){!function(){var e="AppAnalysisKapitalWeb",t=document.getElementById(e);if(t){var a=t.getAttribute("uid");t.removeAttribute("uid");var o=function(e){var t=e.scope,a=e.uid,o={};return new Vue({el:"#"+t,data:function(){return{developed:{cppc:0,kd:0,ke:0,koa:0},emergent:{cppc:0,kd:0,ke:0,koa:0},company:{cppc:0,kd:0,ke:0,koa:0},sector:{cppc:0,kd:0,ke:0,koa:0},template:{},typeId:1,title:"Resultados generales",loading:!0,currency:"usd",cppc:0,kd:0,ke:0,koa:0,dc:0,kd2:0,relation:0,costdebt:0,currency2:"Soles"}},created:function(){o=this},mounted:function(){o.initialize()},watch:{},computed:{},methods:{initialize:function(){o.onDetail()},onDetail:function(){o.loading=!0,helper.post("/kapital/"+a+"/analisis/detail").then((function(e){var t=e.success,a=e.data,n=e.message;if(!t)throw n;o.template=a.template,o.company=a.param.company,o.sector=a.param.sector,o.costdebt=o.formatterx100p(a.param.costdebt),o.relation=a.param.relation,o.typeId=o.template.type_id,o.currency2=a.param.currency,o.currency="Soles"==a.param.currency?"pen":"usd",1==o.typeId?(o.kd2=a.param.skd,document.getElementById("currencyAnalysisInput").value="Dólares",o.currency2="Dólares"):o.kd2=a.param.kd,setTimeout((function(){o.onModule(),o.loading=!1}),200)})).catch((function(e){console.log(e),sweet2.error({html:e})}))},formatterx100p:function(e){return e+"%"},onCurrency:function(){o.onCurrencyCompany()},onCurrencyCompany:function(){o.cppc=o.company.pen.cppc,o.kd=o.company.pen.kd,o.ke=o.company.pen.ke,o.koa=o.company.pen.koa,o.dc=o.company.pen.dc,o.dc=o.company.dc,"usd"==o.currency&&(o.cppc=o.company.usd.cppc,o.kd=o.company.usd.kd,o.ke=o.company.usd.ke,o.koa=o.company.usd.koa),bsGraph.square("bsGroupCard1",{q1:{title:"Activo",text:"Koa = ".concat(o.formatterx100p(o.koa)),value:o.koa},q2:{title:"Pasivo",text:"Kd(1-T) = ".concat(o.formatterx100p(o.kd)),value:o.kd},q3:{title:"Patrimonio",text:"Ke = ".concat(o.formatterx100p(o.ke)),value:o.ke}})},onModule:function(){2==o.typeId?o.onCurrencyCompany():(o.dc=o.sector.dc,o.cppc=o.sector.cppc,o.kd=o.sector.kd,o.ke=o.sector.ke,o.koa=o.sector.koa,bsGraph.square("bsGroupCard1",{q1:{title:"Activo",text:"Koa = ".concat(o.formatterx100p(o.koa)),value:o.koa},q2:{title:"Pasivo",text:"Kd(1-T) = ".concat(o.formatterx100p(o.kd)),value:o.kd},q3:{title:"Patrimonio",text:"Ke = ".concat(o.formatterx100p(o.ke)),value:o.ke}}))},onFormSector:function(e){e.preventDefault(),sweet2.loading();var t=new FormData(e.target);t.append("typeId",o.typeId),helper.post("/kapital/"+a+"/analisis/costos",t).then((function(e){var t=e.success,a=(e.data,e.message);if(!t)throw a;setTimeout((function(){sweet2.success({text:a}),window.AppFinanceWeb.modules.forEach((function(e){e.$mount()}))}),2500)})).catch((function(e){console.log(e),sweet2.error({html:e})}))}}})}({scope:e,uid:a});window.AppFinanceWeb.modules.push(o)}}()};document.addEventListener("DOMContentLoaded",AppAnalysisKapitalWeb());