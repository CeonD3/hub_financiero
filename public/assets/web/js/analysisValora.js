"use strict";var AppAnalysisValoraWeb=function(){!function(){var e="AppAnalysisValoraWeb",t=document.getElementById(e);if(t){var a=t.getAttribute("uid");t.removeAttribute("uid");var n=function(e){var t=e.scope,a=e.uid,n={};return new Vue({el:"#"+t,data:function(){return{template:{},typeId:1,title:"Resultados generales",table:[],generales:[],resultados:[],loading:!0,concept:{action:0,company:0,patrimony:0},integrated:{action:0,company:0,patrimony:0},general:{}}},created:function(){n=this},mounted:function(){n.initialize()},watch:{},computed:{},methods:{initialize:function(){n.onDetail()},onDetail:function(){n.loading=!0,helper.post("/valora/"+a+"/analysis/detail").then((function(e){var t=e.success,a=e.data,i=e.message;if(!t)throw i;n.integrated=a.param.integrated,n.concept=a.param.concept,n.general=a.param.general,n.onGraph({integrated:n.integrated,concept:n.concept}),n.loading=!1})).catch((function(e){sweet2.error({html:e})}))},onModule:function(e){1==e?n.table=n.generales:2==e&&(n.table=n.resultados)},onGraph:function(e){var t=e.concept,a=e.integrated;bsGraph.square3("bsGroup1",{q1:{title:"Activo",text:t.balance.activeText,value:t.balance.active},q2:{title:"Pasivo",text:t.balance.passiveText,value:t.balance.passive},q3:{title:"Patrimonio",text:t.balance.patrimonyText,value:t.balance.patrimony},q4:{title:"Valor Esperado",text:null==t?void 0:t.financialText,value:null==t?void 0:t.financial},q5:{title:"Valor Sensibilizado",text:null==t?void 0:t.sensitizedText,value:null==t?void 0:t.sensitized}}),bsGraph.square3("bsGroup2",{q1:{title:"Activo",text:a.balance.activeText,value:a.balance.active},q2:{title:"Pasivo",text:a.balance.passiveText,value:a.balance.passive},q3:{title:"Patrimonio",text:a.balance.patrimonyText,value:a.balance.patrimony},q4:{title:"Valor Esperado",text:null==a?void 0:a.financialText,value:null==a?void 0:a.financial},q5:{title:"Valor Sensibilizado",text:null==a?void 0:a.sensitizedText,value:null==a?void 0:a.sensitized}})},formatterx100p:function(e){return e+"%"},onFormAnalysisValora:function(e){e.preventDefault(),sweet2.loading();var t=new FormData(e.target);helper.post("/valora/"+a+"/analysis/cost",t).then((function(e){var t=e.success,a=(e.data,e.message);if(!t)throw a;setTimeout((function(){n.initialize(),sweet2.success({text:a})}),2500)})).catch((function(e){sweet2.error({html:e})}))}}})}({scope:e,uid:a});window.AppFinanceWeb.modules.push(n)}}()};document.addEventListener("DOMContentLoaded",AppAnalysisValoraWeb());